<% if current_user? @user %>
<% provide(:title, "My Predictions") %>
<% else %>
<% provide(:title, "#{@user.name}'s Predictions") %>
<% end %>

<% if current_user? @user %>
  <h1>My Predictions</h1>
<% else %>
  <h1><%= "#{@user.name}'s Predictions" %></h1>
<% end %>

<div class="row">
  <div class="col-md-6 offset-md-3">
    <% @predictions.each do |p| %>
      <div>
        <h6><%= link_to 'Match:', league_match_path(p.match.league, p.match) %></h6>
        <%= "[#{p.match.match_date_time.strftime('%d/%m/%Y at %H:%M')}] #{p.match.home_team.name} vs #{p.match.away_team.name}" %>
      </div>
      <div>
        <h6><%= link_to 'Prediction:', user_prediction_path(@user, p) %></h6>
        <%= "#{p.match.home_team.name} #{p.home_goals} - #{p.away_goals} #{p.match.away_team.name}" %>
      </div>
      <% if p.match.home_goals %>
      <div>
        <h6>Match result:</h6>
        <%= "#{p.match.home_team.name} #{p.match.home_goals} - #{p.match.away_goals} #{p.match.away_team.name}" %>
      </div>
      <% end %>
      <hr>
    <% end %>
    
    <% if current_user? @user %>
      <%= link_to 'Back to Profile', profile_path, class: 'btn btn-outline-primary' %>
    <% else %>
      <%= link_to 'Back to Profile', user_path(@user), class: 'btn btn-outline-primary' %>
    <% end %>
  </div>
</div>

<%= will_paginate(@predictions, :renderer => WillPaginate::ActionView::Bootstrap4LinkRenderer) %>